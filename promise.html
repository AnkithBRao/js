<html>
    <body>
        <script>
            const posts=[{title:'title1',body:'this is title1'},{title:'title2',body:'this is title2'}];
            function getPosts(){
                let output='';
                setTimeout(()=>{
                    posts.forEach((post,index)=>{
                        output+=`<li>${post.title}</li>`;
                    });
                    document.body.innerHTML+=output;
                },1000);
            }
            function createPost(post){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        let error=false;
                        posts.push(post);
                        if(!error){
                            resolve();
                        }
                        else{
                            reject('Error:something went wrong');
                        }
                    },2000);
                });
                
            }
            createPost({title:'title3',body:'this is title3'})
            .then(getPosts)
            .catch();
            
        </script>
    </body>
</html>